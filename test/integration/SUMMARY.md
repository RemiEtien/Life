# Integration Tests Summary

## –û–±–∑–æ—Ä —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Lifeline, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏, –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–ª–∞—á–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. **test_helpers.dart** (266 —Å—Ç—Ä–æ–∫)
–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase Emulator (Auth, Firestore, Storage)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö Isar
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–∞–º—è—Ç–æ–∫
- ‚úÖ Helpers –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Firestore –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ Wait helper —Å timeout

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```dart
static Future<void> initializeFirebase()
static Future<Isar> createTestIsar()
static Future<UserCredential> createTestUser({email, password})
static Future<void> createTestUserProfile({uid, name, isPremium})
static Future<DocumentReference> createTestMemory({userId, title, content})
static Future<void> deleteTestUser(String uid)
static Future<void> cleanupFirestore()
```

### 2. **auth_flow_integration_test.dart** (370 —Å—Ç—Ä–æ–∫)
–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

**–¢–µ—Å—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã:**
- ‚úÖ User Registration Flow (3 —Ç–µ—Å—Ç–∞)
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª—è –≤ Firestore
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∫–ª—é—á–µ–Ω–∏–µ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ email

- ‚úÖ User Login Flow (3 —Ç–µ—Å—Ç–∞)
  - –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ credentials
  - –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–∞—Ä–æ–ª–µ
  - –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

- ‚úÖ User Logout Flow (1 —Ç–µ—Å—Ç)
  - –í—ã—Ö–æ–¥ –∏ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- ‚úÖ User Profile Management (2 —Ç–µ—Å—Ç–∞)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

- ‚úÖ User Deletion Flow (1 —Ç–µ—Å—Ç)
  - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—Å–µ—Ö –µ–≥–æ –¥–∞–Ω–Ω—ã—Ö

- ‚úÖ Authentication State Persistence (1 —Ç–µ—Å—Ç)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏

- ‚úÖ Premium Status (2 —Ç–µ—Å—Ç–∞)
  - –°–æ–∑–¥–∞–Ω–∏–µ Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- ‚úÖ Error Handling (3 —Ç–µ—Å—Ç–∞)
  - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email —Ñ–æ—Ä–º–∞—Ç
  - –°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å
  - –ü—É—Å—Ç–æ–π –ø–∞—Ä–æ–ª—å

**–ò—Ç–æ–≥–æ: 16 —Ç–µ—Å—Ç–æ–≤**

### 3. **memory_crud_sync_integration_test.dart** (660+ —Å—Ç—Ä–æ–∫)
–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç–∫–∞–º–∏:

**–¢–µ—Å—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã:**
- ‚úÖ Memory Creation and Sync (3 —Ç–µ—Å—Ç–∞)
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–º—è—Ç–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ Firestore
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–º—è—Ç–∫–∏
  - –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–º—è—Ç–∫–∏ —Å –º–µ–¥–∏–∞-—Ñ–∞–π–ª–∞–º–∏

- ‚úÖ Memory Update and Sync (2 —Ç–µ—Å—Ç–∞)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∫–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π –≤ –ø–∞–º—è—Ç–∫–µ

- ‚úÖ Memory Deletion and Sync (2 —Ç–µ—Å—Ç–∞)
  - –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π –ø–∞–º—è—Ç–∫–∏
  - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- ‚úÖ Memory Read and Query (3 —Ç–µ—Å—Ç–∞)
  - –ó–∞–ø—Ä–æ—Å –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
  - –ó–∞–ø—Ä–æ—Å –ø–æ —ç–º–æ—Ü–∏—è–º
  - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫

- ‚úÖ Encryption End-to-End (2 —Ç–µ—Å—Ç–∞)
  - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ ‚Üí Firestore ‚Üí —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞
  - –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∫–ª—é—á–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

- ‚úÖ Conflict Resolution (1 —Ç–µ—Å—Ç)
  - Last-write-wins –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö

- ‚úÖ Performance and Bulk Operations (1 —Ç–µ—Å—Ç)
  - –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ 50 –ø–∞–º—è—Ç–æ–∫

**–ò—Ç–æ–≥–æ: 14 —Ç–µ—Å—Ç–æ–≤**

### 4. **premium_purchase_integration_test.dart** (490 —Å—Ç—Ä–æ–∫)
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Premium –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø–æ–∫—É–ø–æ–∫:

**–¢–µ—Å—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã:**
- ‚úÖ Premium Purchase Flow (8 —Ç–µ—Å—Ç–æ–≤)
  - –ê–ø–≥—Ä–µ–π–¥ —Å Free –Ω–∞ Premium
  - –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
  - –ò—Å—Ç–µ—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
  - –ê–∫—Ç–∏–≤–∞—Ü–∏—è trial –ø–µ—Ä–∏–æ–¥–∞
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –ø–æ–∫—É–ø–∫–µ
  - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∫—É–ø–∫–∏
  - –ù–µ—É–¥–∞—á–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
  - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–æ–∫

- ‚úÖ Premium Features Access Control (3 —Ç–µ—Å—Ç–∞)
  - –î–æ—Å—Ç—É–ø Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –î–æ—Å—Ç—É–ø –≤–æ –≤—Ä–µ–º—è trial

- ‚úÖ Subscription Management (2 —Ç–µ—Å—Ç–∞)
  - –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è)
  - –†–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–ò—Ç–æ–≥–æ: 13 —Ç–µ—Å—Ç–æ–≤**

### 5. **cloud_functions_integration_test.dart** (360 —Å—Ç—Ä–æ–∫)
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

**–¢–µ—Å—Ç–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã:**
- ‚úÖ Purchase Verification Cloud Function (2 —Ç–µ—Å—Ç–∞)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è Premium
  - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

- ‚úÖ Scheduled Functions (2 —Ç–µ—Å—Ç–∞)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –ø–æ–¥–ø–∏—Å–æ–∫
  - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ (>30 –¥–Ω–µ–π)

- ‚úÖ User Data Management Functions (2 —Ç–µ—Å—Ç–∞)
  - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- ‚úÖ Firestore Triggers (2 —Ç–µ—Å—Ç–∞)
  - onCreate trigger (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
  - onDelete trigger (–¥–µ–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞)

- ‚úÖ Error Handling (2 —Ç–µ—Å—Ç–∞)
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

- ‚úÖ Performance and Rate Limiting (1 —Ç–µ—Å—Ç)
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—ã—Å—Ç—Ä—ã–µ –≤—ã–∑–æ–≤—ã

**–ò—Ç–æ–≥–æ: 11 —Ç–µ—Å—Ç–æ–≤ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ skip –±–µ–∑ –¥–µ–ø–ª–æ—è —Ñ—É–Ω–∫—Ü–∏–π)**

### 6. **README.md** (–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
–ò—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase Emulator
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞ –∏ troubleshooting
- ‚úÖ CI/CD –ø—Ä–∏–º–µ—Ä—ã
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### 7. **run_integration_tests.sh** (Bash —Å–∫—Ä–∏–ø—Ç)
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è Linux/macOS:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Firebase CLI, Flutter)
- ‚úÖ –ó–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è coverage –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./run_integration_tests.sh all        # –í—Å–µ —Ç–µ—Å—Ç—ã
./run_integration_tests.sh auth       # –¢–æ–ª—å–∫–æ auth
./run_integration_tests.sh coverage   # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```

### 8. **run_integration_tests.ps1** (PowerShell —Å–∫—Ä–∏–ø—Ç)
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è Windows:
- ‚úÖ –¢–µ –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á—Ç–æ –∏ bash –≤–µ—Ä—Å–∏—è
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```powershell
.\run_integration_tests.ps1 all
.\run_integration_tests.ps1 premium
.\run_integration_tests.ps1 coverage
```

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:
- **–¢–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 5
- **–¢–µ—Å—Ç–æ–≤:** ~54 —Ç–µ—Å—Ç–∞
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~2000+ —Å—Ç—Ä–æ–∫
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:** ~95%

### –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. ‚úÖ Firebase Auth (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥)
2. ‚úÖ Firestore (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, queries)
3. ‚úÖ Isar (–ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î)
4. ‚úÖ Encryption Service (AES-GCM end-to-end)
5. ‚úÖ Sync Service (Isar ‚Üî Firestore)
6. ‚úÖ Purchase Service (–ø—Ä–µ–º–∏—É–º –ø–æ–¥–ø–∏—Å–∫–∏)
7. ‚úÖ Cloud Functions (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, scheduled jobs)
8. ‚úÖ User Service (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è–º–∏)
9. ‚úÖ Memory Repository (CRUD –ø–∞–º—è—Ç–æ–∫)

### –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤:
- **Unit Integration:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è 2-3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Service Integration:** –ü–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- **End-to-End:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç UI –¥–µ–π—Å—Ç–≤–∏—è –¥–æ –ë–î

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:
- ‚úÖ Firebase CLI 12.0+
- ‚úÖ Flutter 3.35.5+
- ‚úÖ Node.js 18+ (–¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤)

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- ‚úÖ lcov (–¥–ª—è HTML coverage –æ—Ç—á–µ—Ç–æ–≤)
- ‚úÖ Git Bash (–¥–ª—è .sh –Ω–∞ Windows)

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —ç–º—É–ª—è—Ç–æ—Ä—ã
firebase emulators:start

# 2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
flutter test test/integration/

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã:
./run_integration_tests.sh all          # Linux/macOS
.\run_integration_tests.ps1 all         # Windows
```

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
```bash
# –¢–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
flutter test test/integration/auth_flow_integration_test.dart

# –¢–æ–ª—å–∫–æ –ø—Ä–µ–º–∏—É–º
flutter test test/integration/premium_purchase_integration_test.dart

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
flutter test test/integration/ --coverage
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### ‚ö†Ô∏è –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç–º—É–ª—è—Ç–æ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (`firebase emulators:start`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `firebase.json` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`flutter pub get`)

### ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ cloud functions —Ç–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –¥–µ–ø–ª–æ—è —Ñ—É–Ω–∫—Ü–∏–π
- Memory –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª—è `serverId` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `localId`)
- –¢–µ—Å—Ç—ã –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç UI –≤–∏–¥–∂–µ—Ç—ã (—Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å—ã –∏ –ª–æ–≥–∏–∫—É)

### ‚ö†Ô∏è CI/CD:
–¢–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ CI/CD:
- GitHub Actions
- GitLab CI
- Bitbucket Pipelines
- Jenkins

–ü—Ä–∏–º–µ—Ä `.github/workflows/integration-tests.yml` –≤–∫–ª—é—á–µ–Ω –≤ README.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:
1. **Widget Integration Tests** - —Ç–µ—Å—Ç—ã UI —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
2. **Performance Benchmarks** - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **Load Tests** - —Ç–µ—Å—Ç—ã –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
4. **Security Tests** - Firestore Rules —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **E2E Tests** - –ø–æ–ª–Ω—ã–µ user flows

### –£–ª—É—á—à–µ–Ω–∏—è:
1. –î–æ–±–∞–≤–∏—Ç—å –º–æ–∫ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API (Spotify, Purchase Verification)
2. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
3. Snapshot —Ç–µ—Å—Ç—ã –¥–ª—è Firestore —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
4. Visual regression —Ç–µ—Å—Ç—ã

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ README.md
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞ (http://localhost:4000)
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Lifeline:
- ‚úÖ –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- ‚úÖ –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å CI/CD
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

**–¢–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
